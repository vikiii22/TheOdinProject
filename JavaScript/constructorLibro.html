<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>
    <div class="contenedor">
        <div class="imagen"><img src="hobbit.jpg"></div>
    </div>
    <button id="anyadir" onclick="anyadirNuevoLibro()">Añadir libro</button>
    <button id="anyadir" onclick="recargar()">recargar</button>
    <button id="eliminar" onclick="eliminar()">Eliminar</button>
    <script>
        let biblioteca = [];

        function Libros(titulo, autor, fecha, paginas, imagen) {
            this.titulo = titulo;
            this.autor = autor;
            this.fecha = fecha;
            this.paginas = paginas;
            this.imagen = imagen;
        }

        function info(libro) {
            return ("El libro " + libro.titulo + " tiene estos atributos: " + libro.autor + " " + libro.fecha + " " + libro.paginas)
        }

        function anyadirNuevoLibro() {
            var titulo = window.prompt("Título");
            var autor = window.prompt("Autor");
            var fecha = window.prompt("Fecha");
            var paginas = window.prompt("Páginas");
            var imagen=window.prompt("Imagen?");
            var nuevo = new Libros(titulo, autor, fecha, paginas, imagen);
            biblioteca.push(nuevo);
        }

        var imagen=document.createElement('img');

        function recargar() {
            var imagenes=document.createElement('img');
            var tituloIm=document.createElement('p');
            biblioteca.forEach(b => console.log(info(b)));
            biblioteca.forEach(b => imagenes.src=b.imagen);
            biblioteca.forEach(b => tituloIm.textContent=b.titulo);
            document.querySelector('.contenedor').appendChild(imagenes);
            console.log(biblioteca.length);
        }

        function eliminar(){
            var aEliminar=window.prompt("Que libro?");
            biblioteca.forEach(b => {
                if(aEliminar==b.titulo){
                    biblioteca.splice(0, biblioteca.length, b.titulo)
                }
            })
        }

        var theHobbit = new Libros('El hobbit', 'Tolkien', ' 1992', '1000', 'hobbit.jpg');
        var harryPotter = new Libros('Harry Potter', 'J.K. Rowling', '2001', '675', 'harrypotter.jpg');
        imagen.src=harryPotter.imagen;
        document.querySelector('.contenedor').appendChild(imagen);
        biblioteca.push(theHobbit);
        biblioteca.push(harryPotter);
        //anyadirNuevoLibro();

        biblioteca.forEach(b => console.log(b));
    </script>
</body>

</html>